{"remainingRequest":"/home/mayank/gemwork_3/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js!/home/mayank/gemwork_3/gem-farm/app/gem-farm/node_modules/ts-loader/index.js??ref--14-2!/home/mayank/gemwork_3/gem-farm/app/gem-farm/src/composables/cluster.ts","dependencies":[{"path":"/home/mayank/gemwork_3/gem-farm/app/gem-farm/src/composables/cluster.ts","mtime":1649527631538},{"path":"/home/mayank/gemwork_3/gem-farm/app/gem-farm/babel.config.js","mtime":1649527631469},{"path":"/home/mayank/gemwork_3/gem-farm/app/gem-farm/node_modules/cache-loader/dist/cjs.js","mtime":1647186788000},{"path":"/home/mayank/gemwork_3/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js","mtime":1647186788000},{"path":"/home/mayank/gemwork_3/gem-farm/app/gem-farm/node_modules/ts-loader/index.js","mtime":1647186829000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgcmVhZG9ubHksIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tICdAc29sYW5hL3dlYjMuanMnOwpleHBvcnQgdmFyIENsdXN0ZXI7CgooZnVuY3Rpb24gKENsdXN0ZXIpIHsKICBDbHVzdGVyWyJNYWlubmV0Il0gPSAibWFpbm5ldCI7CiAgQ2x1c3RlclsiRGV2bmV0Il0gPSAiZGV2bmV0IjsKICBDbHVzdGVyWyJUZXN0bmV0Il0gPSAidGVzdG5ldCI7CiAgQ2x1c3RlclsiTG9jYWxuZXQiXSA9ICJsb2NhbG5ldCI7Cn0pKENsdXN0ZXIgfHwgKENsdXN0ZXIgPSB7fSkpOwoKdmFyIGNsdXN0ZXJVUkxNYXBwaW5nID0gewogIG1haW5uZXQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfTUFJTk5FVF9VUkwgfHwgJ2h0dHBzOi8vc3NjLWRhby5nZW5lc3lzZ28ubmV0LycsCiAgZGV2bmV0OiBwcm9jZXNzLmVudi5WVUVfQVBQX0RFVk5FVF9VUkwgfHwgJ2h0dHBzOi8vYXBpLmRldm5ldC5zb2xhbmEuY29tJywKICB0ZXN0bmV0OiBwcm9jZXNzLmVudi5WVUVfQVBQX1RFU1RORVRfVVJMIHx8ICdodHRwczovL2FwaS50ZXN0bmV0LnNvbGFuYS5jb20nLAogIGxvY2FsbmV0OiBwcm9jZXNzLmVudi5WVUVfQVBQX0xPQ0FMTkVUX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4ODk5Jwp9Owp2YXIgY2x1c3RlciA9IHJlZihDbHVzdGVyLk1haW5uZXQpOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VDbHVzdGVyKCkgewogIHZhciBnZXRDbHVzdGVyVVJMID0gZnVuY3Rpb24gZ2V0Q2x1c3RlclVSTCgpIHsKICAgIHJldHVybiBjbHVzdGVyVVJMTWFwcGluZ1tjbHVzdGVyLnZhbHVlXTsKICB9OwoKICB2YXIgZ2V0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIGdldENvbm5lY3Rpb24oY29tbWl0dG1lbnQpIHsKICAgIHJldHVybiBuZXcgQ29ubmVjdGlvbihnZXRDbHVzdGVyVVJMKCksIGNvbW1pdHRtZW50ICE9PSBudWxsICYmIGNvbW1pdHRtZW50ICE9PSB2b2lkIDAgPyBjb21taXR0bWVudCA6ICdwcm9jZXNzZWQnKTsKICB9OwoKICB2YXIgc2V0Q2x1c3RlciA9IGZ1bmN0aW9uIHNldENsdXN0ZXIobmV3Q2x1c3RlcikgewogICAgY2x1c3Rlci52YWx1ZSA9IG5ld0NsdXN0ZXI7IC8vIGNhcHBpbmcgYXQgMjAgY2hhcnMgZHVlIHRvIHNlY3VyaXR5IChub3QgdG8gZXhwb3NlIHRoZSB0b2tlbikKCiAgICBjb25zb2xlLmxvZygiQ2x1c3RlciB1cGRhdGVkLCAgbm93ICIuY29uY2F0KG5ld0NsdXN0ZXIsICIgKCIpLmNvbmNhdChnZXRDbHVzdGVyVVJMKCkuc3Vic3RyKDAsIDIwKSwgIikiKSk7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGNsdXN0ZXI6IHJlYWRvbmx5KGNsdXN0ZXIpLAogICAgZ2V0Q2x1c3RlclVSTDogZ2V0Q2x1c3RlclVSTCwKICAgIGdldENvbm5lY3Rpb246IGdldENvbm5lY3Rpb24sCiAgICBzZXRDbHVzdGVyOiBzZXRDbHVzdGVyCiAgfTsKfQ=="},{"version":3,"sources":["/home/mayank/gemwork_3/gem-farm/app/gem-farm/src/composables/cluster.ts"],"names":[],"mappings":";AAAA,SAAS,QAAT,EAAmB,GAAnB,QAA8B,KAA9B;AACA,SAAqB,UAArB,QAAuC,iBAAvC;AAEA,OAAA,IAAY,OAAZ;;AAAA,CAAA,UAAY,OAAZ,EAAmB;AACjB,EAAA,OAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACA,EAAA,OAAA,CAAA,QAAA,CAAA,GAAA,QAAA;AACA,EAAA,OAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACA,EAAA,OAAA,CAAA,UAAA,CAAA,GAAA,UAAA;AACD,CALD,EAAY,OAAO,KAAP,OAAO,GAAA,EAAA,CAAnB;;AAOA,IAAM,iBAAiB,GAAG;AACxB,EAAA,OAAO,EAAE,OAAO,CAAC,GAAR,CAAY,mBAAZ,IAAmC,gCADpB;AAExB,EAAA,MAAM,EAAE,OAAO,CAAC,GAAR,CAAY,kBAAZ,IAAkC,+BAFlB;AAGxB,EAAA,OAAO,EAAE,OAAO,CAAC,GAAR,CAAY,mBAAZ,IAAmC,gCAHpB;AAIxB,EAAA,QAAQ,EAAE,OAAO,CAAC,GAAR,CAAY,oBAAZ,IAAoC;AAJtB,CAA1B;AAOA,IAAM,OAAO,GAAG,GAAG,CAAU,OAAO,CAAC,OAAlB,CAAnB;AAEA,eAAc,SAAU,UAAV,GAAoB;AAChC,MAAM,aAAa,GAAG,SAAhB,aAAgB;AAAA,WAAc,iBAAiB,CAAC,OAAO,CAAC,KAAT,CAA/B;AAAA,GAAtB;;AAEA,MAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,WAAD;AAAA,WACpB,IAAI,UAAJ,CAAe,aAAa,EAA5B,EAAgC,WAAhC,aAAgC,WAAhC,cAAgC,WAAhC,GAA+C,WAA/C,CADoB;AAAA,GAAtB;;AAGA,MAAM,UAAU,GAAG,SAAb,UAAa,CAAC,UAAD,EAAwB;AACzC,IAAA,OAAO,CAAC,KAAR,GAAgB,UAAhB,CADyC,CAEzC;;AACA,IAAA,OAAO,CAAC,GAAR,iCAC2B,UAD3B,eAC0C,aAAa,GAAG,MAAhB,CAAuB,CAAvB,EAA0B,EAA1B,CAD1C;AAGD,GAND;;AAQA,SAAO;AACL,IAAA,OAAO,EAAE,QAAQ,CAAC,OAAD,CADZ;AAEL,IAAA,aAAa,EAAb,aAFK;AAGL,IAAA,aAAa,EAAb,aAHK;AAIL,IAAA,UAAU,EAAV;AAJK,GAAP;AAMD","sourcesContent":["import { readonly, ref } from 'vue';\nimport { Commitment, Connection } from '@solana/web3.js';\n\nexport enum Cluster {\n  Mainnet = 'mainnet',\n  Devnet = 'devnet',\n  Testnet = 'testnet',\n  Localnet = 'localnet',\n}\n\nconst clusterURLMapping = {\n  mainnet: process.env.VUE_APP_MAINNET_URL || 'https://ssc-dao.genesysgo.net/',\n  devnet: process.env.VUE_APP_DEVNET_URL || 'https://api.devnet.solana.com',\n  testnet: process.env.VUE_APP_TESTNET_URL || 'https://api.testnet.solana.com',\n  localnet: process.env.VUE_APP_LOCALNET_URL || 'http://localhost:8899',\n};\n\nconst cluster = ref<Cluster>(Cluster.Mainnet);\n\nexport default function useCluster() {\n  const getClusterURL = (): string => clusterURLMapping[cluster.value];\n\n  const getConnection = (committment?: Commitment): Connection =>\n    new Connection(getClusterURL(), committment ?? 'processed');\n\n  const setCluster = (newCluster: Cluster) => {\n    cluster.value = newCluster;\n    // capping at 20 chars due to security (not to expose the token)\n    console.log(\n      `Cluster updated,  now ${newCluster} (${getClusterURL().substr(0, 20)})`\n    );\n  };\n\n  return {\n    cluster: readonly(cluster),\n    getClusterURL,\n    getConnection,\n    setCluster,\n  };\n}\n"],"sourceRoot":""}]}